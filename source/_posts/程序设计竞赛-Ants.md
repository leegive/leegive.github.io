---
title: 程序设计竞赛-Ants
date: 2018-11-18 14:20:57
mathjax: true
tags:
  - 程序设计竞赛
  - Ants
  - POJ
---

# 题目

Ants - POJ No. 1852

# 描述

$n$只蚂蚁以每秒1cm的速度在长为$Lcm$的竿子上爬行。当蚂蚁爬到竿子的端点时就会掉落。由于竿子太细，两只蚂蚁相遇时，它们不能交错通过，只能各自反向爬回去。对于每只蚂蚁，我们知道它距离竿子左端的距离$X_i$，但是不知道它当前的朝向。请计算所有蚂蚁落下竿子所需的最短时间和最长时间。

# 限制条件

- $ 1 \leq L \leq 10^6 $
- $ 1 \leq n \leq 10^6 $
- $ 0 \leq x_i \leq L $

# 输入

$ L = 10 $
$ n = 3 $
$ x = {2, 6, 7} $

# 输出

$ min = 4(左、右、右) $
$ max = 8(右、右、右) $

# 分析

首先很容易想到一个穷竭搜索算法，即枚举所有蚂蚁的初始朝向的组合，这可以利用递归函数实现。

每只蚂蚁的初始朝向都有2种可能，$n$只蚂蚁就是$2 \times 2 \times \cdots \times 2 = 2^n$种。如果$n$比较小，这个算法还是可行的，但指数函数随着$n$的增长会极烈增长。

穷竭搜索的运行时间也随着剧烈增长。一般把指数阶的运行时间叫做指数时间。指数时间的算法无法处理稍大规模的输入。

接下来，让我们来考虑比穷竭搜素更高效的算法。首先对于最短时间，看起来所有蚂蚁都朝向较近的端点走会比较好。事实上，这种情况下不会发生两只蚂蚁相遇的情况，而且也不可能在比此更短的时间内走到杆子的断点。

接下来，为了思考最长时间的情况，让我们看看蚂蚁相遇时会发生什么。

事实上，可以知道两只蚂蚁相遇后，当它们保持原样交错而过继续前进也不会有任何问题。这样看来，可以认为每只蚂蚁都是独立运动的，所有要求最长时间，只要求蚂蚁到杆子端点的最大距离就好了。

这样，不论最长时间还是最短时间，都只要对每次蚂蚁检查一次就好了，这是$O(n)$时间的算法。对于限制条件$n \leq 10^6$，这个算法是够用的，于是问题得解。

# 答题

```java
int L, n;
int[] x;

public solve() {
    // 计算最短的时间
    int minTime = 0;
    for (int i = 0; i < n; i++) {
        minTime = Math.max(minTime, Math.min(x[i], L - x[i]));
    }

    // 计算最长的时间
    int maxTime = 0;
    for (int i = 0; i < n; i++) {
        maxTime = Math.max(maxTime, Math.max(x[i], L - x[i]));
    }

    System.out.print("%d %d\n", minT, maxT);
}
```

> 这个问题可以说是观察想象力类型问题的经典例子。有很多这样的问题，虽然开始不太明白，但相同后，最后的程序却是出乎意料地简单。


